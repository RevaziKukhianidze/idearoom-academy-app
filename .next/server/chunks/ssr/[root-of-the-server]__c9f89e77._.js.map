{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Documents/academy-idearoom/idearoom-academy-app/app/services/supabase.js"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\nconst supabaseUrl = \"https://ogxvbjvwbrllggcmfyke.supabase.co\";\nconst supabaseKey =\n  \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9neHZianZ3YnJsbGdnY21meWtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ4MjA0MjAsImV4cCI6MjA2MDM5NjQyMH0.1jqzrG77QundfqVg98tvWbM1YUFsJcG0IycwzphwLEM\";\nconst supabase = createClient(supabaseUrl, supabaseKey);\n\nexport default supabase;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,cAAc;AACpB,MAAM,cACJ;AACF,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa;uCAE5B","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Documents/academy-idearoom/idearoom-academy-app/app/services/apiOffers.jsx"],"sourcesContent":["import supabase from \"./supabase\";\r\n\r\n// Simple in-memory cache\r\nconst cache = {\r\n  data: {},\r\n  timeouts: {},\r\n\r\n  // Cache duration in milliseconds (30 minutes default)\r\n  DEFAULT_TTL: 1800000,\r\n\r\n  set(key, value, ttl = this.DEFAULT_TTL) {\r\n    this.data[key] = value;\r\n\r\n    // Clear any existing timeout\r\n    if (this.timeouts[key]) {\r\n      clearTimeout(this.timeouts[key]);\r\n    }\r\n\r\n    // Set expiration timeout\r\n    this.timeouts[key] = setTimeout(() => {\r\n      delete this.data[key];\r\n      delete this.timeouts[key];\r\n    }, ttl);\r\n\r\n    return value;\r\n  },\r\n\r\n  get(key) {\r\n    return this.data[key];\r\n  },\r\n\r\n  has(key) {\r\n    return key in this.data;\r\n  },\r\n\r\n  invalidate(key) {\r\n    delete this.data[key];\r\n    if (this.timeouts[key]) {\r\n      clearTimeout(this.timeouts[key]);\r\n      delete this.timeouts[key];\r\n    }\r\n  },\r\n\r\n  invalidateAll() {\r\n    Object.keys(this.timeouts).forEach((key) => {\r\n      clearTimeout(this.timeouts[key]);\r\n    });\r\n    this.data = {};\r\n    this.timeouts = {};\r\n  },\r\n};\r\n\r\nexport async function getOffers() {\r\n  const cacheKey = \"all_offers\";\r\n\r\n  // Check cache first\r\n  if (cache.has(cacheKey)) {\r\n    return cache.get(cacheKey);\r\n  }\r\n\r\n  // If not in cache, fetch from Supabase\r\n  let { data, error } = await supabase.from(\"offered_course\").select(\"*\");\r\n\r\n  if (error) {\r\n    console.error(\"Error fetching offers:\", error);\r\n    throw new Error(\"Failed to fetch offers\");\r\n  }\r\n\r\n  // Store in cache and return\r\n  return cache.set(cacheKey, data);\r\n}\r\n\r\nexport async function getOfferById(id) {\r\n  const cacheKey = `offer_${id}`;\r\n\r\n  // Check cache first\r\n  if (cache.has(cacheKey)) {\r\n    return cache.get(cacheKey);\r\n  }\r\n\r\n  // If not in cache, fetch from Supabase\r\n  let { data, error } = await supabase\r\n    .from(\"offered_course\")\r\n    .select(\"*\")\r\n    .eq(\"id\", id)\r\n    .single();\r\n\r\n  if (error) {\r\n    console.error(\"Error fetching offer:\", error);\r\n    throw new Error(`Failed to fetch offer with ID ${id}`);\r\n  }\r\n\r\n  // Store in cache and return\r\n  return cache.set(cacheKey, data);\r\n}\r\n\r\n// Function to manually invalidate cache when data changes\r\nexport function invalidateCache(id = null) {\r\n  if (id) {\r\n    // Invalidate specific offer\r\n    cache.invalidate(`offer_${id}`);\r\n  }\r\n\r\n  // Always invalidate the collection caches\r\n  cache.invalidate(\"all_offers\");\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAEA,yBAAyB;AACzB,MAAM,QAAQ;IACZ,MAAM,CAAC;IACP,UAAU,CAAC;IAEX,sDAAsD;IACtD,aAAa;IAEb,KAAI,GAAG,EAAE,KAAK,EAAE,MAAM,IAAI,CAAC,WAAW;QACpC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG;QAEjB,6BAA6B;QAC7B,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;YACtB,aAAa,IAAI,CAAC,QAAQ,CAAC,IAAI;QACjC;QAEA,yBAAyB;QACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,WAAW;YAC9B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI;YACrB,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI;QAC3B,GAAG;QAEH,OAAO;IACT;IAEA,KAAI,GAAG;QACL,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI;IACvB;IAEA,KAAI,GAAG;QACL,OAAO,OAAO,IAAI,CAAC,IAAI;IACzB;IAEA,YAAW,GAAG;QACZ,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI;QACrB,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;YACtB,aAAa,IAAI,CAAC,QAAQ,CAAC,IAAI;YAC/B,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI;QAC3B;IACF;IAEA;QACE,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;YAClC,aAAa,IAAI,CAAC,QAAQ,CAAC,IAAI;QACjC;QACA,IAAI,CAAC,IAAI,GAAG,CAAC;QACb,IAAI,CAAC,QAAQ,GAAG,CAAC;IACnB;AACF;AAEO,eAAe;IACpB,MAAM,WAAW;IAEjB,oBAAoB;IACpB,IAAI,MAAM,GAAG,CAAC,WAAW;QACvB,OAAO,MAAM,GAAG,CAAC;IACnB;IAEA,uCAAuC;IACvC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAA,CAAA,UAAQ,CAAC,IAAI,CAAC,kBAAkB,MAAM,CAAC;IAEnE,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,0BAA0B;QACxC,MAAM,IAAI,MAAM;IAClB;IAEA,4BAA4B;IAC5B,OAAO,MAAM,GAAG,CAAC,UAAU;AAC7B;AAEO,eAAe,aAAa,EAAE;IACnC,MAAM,WAAW,CAAC,MAAM,EAAE,IAAI;IAE9B,oBAAoB;IACpB,IAAI,MAAM,GAAG,CAAC,WAAW;QACvB,OAAO,MAAM,GAAG,CAAC;IACnB;IAEA,uCAAuC;IACvC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAA,CAAA,UAAQ,CACjC,IAAI,CAAC,kBACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,IACT,MAAM;IAET,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM,IAAI,MAAM,CAAC,8BAA8B,EAAE,IAAI;IACvD;IAEA,4BAA4B;IAC5B,OAAO,MAAM,GAAG,CAAC,UAAU;AAC7B;AAGO,SAAS,gBAAgB,KAAK,IAAI;IACvC,IAAI,IAAI;QACN,4BAA4B;QAC5B,MAAM,UAAU,CAAC,CAAC,MAAM,EAAE,IAAI;IAChC;IAEA,0CAA0C;IAC1C,MAAM,UAAU,CAAC;AACnB","debugId":null}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Documents/academy-idearoom/idearoom-academy-app/public/homeIcon.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 16, height: 14, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,2GAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Documents/academy-idearoom/idearoom-academy-app/public/rightArrow.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 5, height: 9, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,6GAAA,CAAA,UAAG;IAAE,OAAO;IAAG,QAAQ;IAAG,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Documents/academy-idearoom/idearoom-academy-app/app/_components/HeadTopOffer.jsx"],"sourcesContent":["import React from \"react\";\r\nimport HomeIcon from \"../../public/homeIcon.svg\";\r\nimport rightArrow from \"../../public/rightArrow.svg\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\n\r\nexport default function HeadTopOffer({ children, isCoursesPage = true }) {\r\n  return (\r\n    <div className=\"flex flex-wrap gap-3 items-center sm:my-7\">\r\n      <Link href=\"/\">\r\n        <Image\r\n          className=\"w-[14px] h-[12px] sm:w-[16px] sm:h-[14px]\"\r\n          src={HomeIcon}\r\n          alt=\"homeIcon-svg\"\r\n        />\r\n      </Link>\r\n      <Image className=\"mt-[2px]\" src={rightArrow} alt=\"rightArrow-svg\" />\r\n\r\n      {isCoursesPage ? (\r\n        <p className=\"caps-text text-xs sm:text-sm font-regular text-[#6A737D] mt-[5px]\">\r\n          შეთავაზება\r\n        </p>\r\n      ) : (\r\n        <>\r\n          <Link href=\"/offer\">\r\n            <p className=\"caps-text text-xs hover:underline sm:text-sm font-regular text-[#6A737D] mt-[5px]\">\r\n              შეთავაზება\r\n            </p>\r\n          </Link>\r\n\r\n          {children && (\r\n            <>\r\n              <Image\r\n                className=\"mt-[2px]\"\r\n                src={rightArrow}\r\n                alt=\"rightArrow-svg\"\r\n              />\r\n              <div className=\"caps-text text-xs sm:text-sm font-regular text-[#6A737D] mt-[5px]\">\r\n                {children}\r\n              </div>\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEe,SAAS,aAAa,EAAE,QAAQ,EAAE,gBAAgB,IAAI,EAAE;IACrE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,4JAAA,CAAA,UAAI;gBAAC,MAAK;0BACT,cAAA,8OAAC,6HAAA,CAAA,UAAK;oBACJ,WAAU;oBACV,KAAK,oQAAA,CAAA,UAAQ;oBACb,KAAI;;;;;;;;;;;0BAGR,8OAAC,6HAAA,CAAA,UAAK;gBAAC,WAAU;gBAAW,KAAK,wQAAA,CAAA,UAAU;gBAAE,KAAI;;;;;;YAEhD,8BACC,8OAAC;gBAAE,WAAU;0BAAoE;;;;;qCAIjF;;kCACE,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;kCACT,cAAA,8OAAC;4BAAE,WAAU;sCAAoF;;;;;;;;;;;oBAKlG,0BACC;;0CACE,8OAAC,6HAAA,CAAA,UAAK;gCACJ,WAAU;gCACV,KAAK,wQAAA,CAAA,UAAU;gCACf,KAAI;;;;;;0CAEN,8OAAC;gCAAI,WAAU;0CACZ;;;;;;;;;;;;;;;;AAQjB","debugId":null}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Documents/academy-idearoom/idearoom-academy-app/app/offer/page.jsx"],"sourcesContent":["import React from \"react\";\nimport Link from \"next/link\";\nimport { getOffers } from \"../services/apiOffers\";\nimport HeadTopOffer from \"../_components/HeadTopOffer\";\n\nexport const metadata = {\n  title: \"შეთავაზებები\",\n  description:\n    \"იდეარუმის აკადემიის სპეციალური შეთავაზებები - ისწავლე ახალი უნარები ფასდაკლებით, მოიპოვე ღირებული ცოდნა ხელმისაწვდომ ფასებში\",\n  openGraph: {\n    title: \"შეთავაზებები - იდეარუმის აკადემია\",\n    description:\n      \"იდეარუმის აკადემიის სპეციალური შეთავაზებები - ისწავლე ახალი უნარები ფასდაკლებით\",\n    type: \"website\",\n  },\n  robots: {\n    follow: true,\n    index: true,\n  },\n};\n\nexport default async function OffersPage() {\n  try {\n    const courses = await getOffers();\n\n    // Sort courses by ID in descending order\n    const sortedCourses = [...courses].sort((a, b) => b.id - a.id);\n\n    return (\n      <div className=\"container mx-auto max-sm:max-w-[90%] mt-[80px] py-8\">\n        <div className=\"mt-2\">\n          <HeadTopOffer>\n            <p className=\"cursor-pointer\">შეთავაზება</p>\n          </HeadTopOffer>\n        </div>\n        <div className=\"grid grid-cols-1 mt-5 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {sortedCourses.map((course) => (\n            <div\n              key={course.id}\n              className=\"bg-white blog-shadow relative rounded-[20px] p-6\"\n            >\n              <div className=\"relative\">\n                <img\n                  className=\"mb-5 h-[284px] rounded-[12px] w-full relative\"\n                  src={course.image || course.section_image}\n                  alt={course.title}\n                  loading=\"lazy\"\n                />\n                <p className=\"absolute max-sm:py-[5px] max-sm:px-4 max-sm:text-sm bg-[#FDB927] top-[10px] right-[10px] px-5 py-[5px] shadow-lg pt-[10px] rounded-full text-[#383838] font-bold caps-text\">\n                  -{course.discount_percentage}%\n                </p>\n              </div>\n              <div className=\"flex flex-wrap items-center gap-2 mb-6\">\n                {course.course_category &&\n                  course.course_category.map((category, id) => {\n                    return (\n                      <div key={id}>\n                        <p className=\"text-sm max-lg:text-xs caps-text font-[500] text-[#383838] bg-[#f4f6f7] py-[6px] px-4 rounded-full\">\n                          {category}\n                        </p>\n                      </div>\n                    );\n                  })}\n              </div>\n              <h2 className=\"text-lg mt-6 text-secondary-800 font-[600] mb-2 caps-text\">\n                {course.title}\n              </h2>\n              <p className=\"text-[#434a53] text-sm caps-text mb-6 line-clamp-2\">\n                {course.text}\n              </p>\n              <div className=\"w-full h-[1px] bg-[#EFF2F5] mb-6\"></div>\n              <div className=\"flex items-center justify-between \">\n                <div className=\"flex items-center space-x-2\">\n                  <span className=\"text-[#383838] text-xl lg:mr-2 font-bold\">\n                    ₾ {course.price}\n                  </span>\n                  <span className=\"text-[#d95a5a] font-[500] text-xl line-through\">\n                    ₾ {course.old_price}\n                  </span>\n                </div>\n                <Link href={`/offer/${course.id}`} prefetch={false}>\n                  <button className=\"w-full rounded-[10px] bg-primary-500 text-[#fff] hover:bg-primary-600 duration-300  py-[12px] pt-[14px] text-sm caps-text font-bold px-5\">\n                    დეტალურად\n                  </button>\n                </Link>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  } catch (error) {\n    console.error(\"Error loading offers:\", error);\n    return (\n      <div className=\"container mx-auto max-sm:max-w-[90%] mt-[80px] py-8\">\n        <div className=\"mt-2\">\n          <HeadTopOffer>\n            <p className=\"cursor-pointer\">შეთავაზება</p>\n          </HeadTopOffer>\n        </div>\n        <div className=\"bg-white h-[300px] rounded-[20px] p-8 flex items-center justify-center\">\n          <h1 className=\"text-xl font-bold\">\n            შეთავაზებების ჩატვირთვაში მოხდა შეცდომა\n          </h1>\n        </div>\n      </div>\n    );\n  }\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAEO,MAAM,WAAW;IACtB,OAAO;IACP,aACE;IACF,WAAW;QACT,OAAO;QACP,aACE;QACF,MAAM;IACR;IACA,QAAQ;QACN,QAAQ;QACR,OAAO;IACT;AACF;AAEe,eAAe;IAC5B,IAAI;QACF,MAAM,UAAU,MAAM,CAAA,GAAA,6HAAA,CAAA,YAAS,AAAD;QAE9B,yCAAyC;QACzC,MAAM,gBAAgB;eAAI;SAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,EAAE,GAAG,EAAE,EAAE;QAE7D,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,mIAAA,CAAA,UAAY;kCACX,cAAA,8OAAC;4BAAE,WAAU;sCAAiB;;;;;;;;;;;;;;;;8BAGlC,8OAAC;oBAAI,WAAU;8BACZ,cAAc,GAAG,CAAC,CAAC,uBAClB,8OAAC;4BAEC,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CACC,WAAU;4CACV,KAAK,OAAO,KAAK,IAAI,OAAO,aAAa;4CACzC,KAAK,OAAO,KAAK;4CACjB,SAAQ;;;;;;sDAEV,8OAAC;4CAAE,WAAU;;gDAA6K;gDACtL,OAAO,mBAAmB;gDAAC;;;;;;;;;;;;;8CAGjC,8OAAC;oCAAI,WAAU;8CACZ,OAAO,eAAe,IACrB,OAAO,eAAe,CAAC,GAAG,CAAC,CAAC,UAAU;wCACpC,qBACE,8OAAC;sDACC,cAAA,8OAAC;gDAAE,WAAU;0DACV;;;;;;2CAFK;;;;;oCAMd;;;;;;8CAEJ,8OAAC;oCAAG,WAAU;8CACX,OAAO,KAAK;;;;;;8CAEf,8OAAC;oCAAE,WAAU;8CACV,OAAO,IAAI;;;;;;8CAEd,8OAAC;oCAAI,WAAU;;;;;;8CACf,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,WAAU;;wDAA2C;wDACtD,OAAO,KAAK;;;;;;;8DAEjB,8OAAC;oDAAK,WAAU;;wDAAiD;wDAC5D,OAAO,SAAS;;;;;;;;;;;;;sDAGvB,8OAAC,4JAAA,CAAA,UAAI;4CAAC,MAAM,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE;4CAAE,UAAU;sDAC3C,cAAA,8OAAC;gDAAO,WAAU;0DAA2I;;;;;;;;;;;;;;;;;;2BA3C5J,OAAO,EAAE;;;;;;;;;;;;;;;;IAqD1B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,mIAAA,CAAA,UAAY;kCACX,cAAA,8OAAC;4BAAE,WAAU;sCAAiB;;;;;;;;;;;;;;;;8BAGlC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAG,WAAU;kCAAoB;;;;;;;;;;;;;;;;;IAM1C;AACF","debugId":null}}]
}