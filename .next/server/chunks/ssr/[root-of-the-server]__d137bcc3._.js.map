{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Documents/academy-idearoom/idearoom-academy-app/app/services/supabase.js"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\nconst supabaseUrl = \"https://ogxvbjvwbrllggcmfyke.supabase.co\";\nconst supabaseKey =\n  \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9neHZianZ3YnJsbGdnY21meWtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ4MjA0MjAsImV4cCI6MjA2MDM5NjQyMH0.1jqzrG77QundfqVg98tvWbM1YUFsJcG0IycwzphwLEM\";\nconst supabase = createClient(supabaseUrl, supabaseKey);\n\nexport default supabase;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,cAAc;AACpB,MAAM,cACJ;AACF,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa;uCAE5B","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Documents/academy-idearoom/idearoom-academy-app/app/services/apiCourses.jsx"],"sourcesContent":["import supabase from \"./supabase\";\n\n// Simple in-memory cache\nconst cache = {\n  data: {},\n  timeouts: {},\n\n  // Cache duration in milliseconds (30 minutes default)\n  DEFAULT_TTL: 1800000,\n\n  set(key, value, ttl = this.DEFAULT_TTL) {\n    this.data[key] = value;\n\n    // Clear any existing timeout\n    if (this.timeouts[key]) {\n      clearTimeout(this.timeouts[key]);\n    }\n\n    // Set expiration timeout\n    this.timeouts[key] = setTimeout(() => {\n      delete this.data[key];\n      delete this.timeouts[key];\n    }, ttl);\n\n    return value;\n  },\n\n  get(key) {\n    return this.data[key];\n  },\n\n  has(key) {\n    return key in this.data;\n  },\n\n  invalidate(key) {\n    delete this.data[key];\n    if (this.timeouts[key]) {\n      clearTimeout(this.timeouts[key]);\n      delete this.timeouts[key];\n    }\n  },\n\n  invalidateAll() {\n    Object.keys(this.timeouts).forEach((key) => {\n      clearTimeout(this.timeouts[key]);\n    });\n    this.data = {};\n    this.timeouts = {};\n  },\n};\n\nexport async function getCourses(id) {\n  const cacheKey = \"all_courses\";\n\n  // Check cache first\n  if (cache.has(cacheKey)) {\n    return cache.get(cacheKey);\n  }\n\n  // If not in cache, fetch from Supabase\n  let { data, error } = await supabase.from(\"courses\").select(\"*\");\n\n  // Store in cache and return\n  return cache.set(cacheKey, data);\n}\n\nexport async function getCourseById(id) {\n  const cacheKey = `course_${id}`;\n\n  // Check cache first\n  if (cache.has(cacheKey)) {\n    return cache.get(cacheKey);\n  }\n\n  // If not in cache, fetch from Supabase\n  let { data, error } = await supabase\n    .from(\"courses\")\n    .select(\"*, syllabus_title, syllabus_content\")\n    .eq(\"id\", id)\n    .single();\n\n  // Store in cache and return\n  return cache.set(cacheKey, data);\n}\n\nexport async function getLimitedCourse() {\n  const cacheKey = \"limited_courses\";\n\n  // Check cache first\n  if (cache.has(cacheKey)) {\n    return cache.get(cacheKey);\n  }\n\n  // If not in cache, fetch from Supabase\n  const { data, error } = await supabase\n    .from(\"courses\")\n    .select(\"*\")\n    .order(\"id\", { ascending: false })\n    .limit(4);\n\n  // Store in cache and return\n  return cache.set(cacheKey, data);\n}\n\n// Function to manually invalidate cache when data changes\nexport function invalidateCache(id = null) {\n  if (id) {\n    // Invalidate specific course\n    cache.invalidate(`course_${id}`);\n  }\n\n  // Always invalidate the collection caches\n  cache.invalidate(\"all_courses\");\n  cache.invalidate(\"limited_courses\");\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,yBAAyB;AACzB,MAAM,QAAQ;IACZ,MAAM,CAAC;IACP,UAAU,CAAC;IAEX,sDAAsD;IACtD,aAAa;IAEb,KAAI,GAAG,EAAE,KAAK,EAAE,MAAM,IAAI,CAAC,WAAW;QACpC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG;QAEjB,6BAA6B;QAC7B,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;YACtB,aAAa,IAAI,CAAC,QAAQ,CAAC,IAAI;QACjC;QAEA,yBAAyB;QACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,WAAW;YAC9B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI;YACrB,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI;QAC3B,GAAG;QAEH,OAAO;IACT;IAEA,KAAI,GAAG;QACL,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI;IACvB;IAEA,KAAI,GAAG;QACL,OAAO,OAAO,IAAI,CAAC,IAAI;IACzB;IAEA,YAAW,GAAG;QACZ,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI;QACrB,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;YACtB,aAAa,IAAI,CAAC,QAAQ,CAAC,IAAI;YAC/B,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI;QAC3B;IACF;IAEA;QACE,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;YAClC,aAAa,IAAI,CAAC,QAAQ,CAAC,IAAI;QACjC;QACA,IAAI,CAAC,IAAI,GAAG,CAAC;QACb,IAAI,CAAC,QAAQ,GAAG,CAAC;IACnB;AACF;AAEO,eAAe,WAAW,EAAE;IACjC,MAAM,WAAW;IAEjB,oBAAoB;IACpB,IAAI,MAAM,GAAG,CAAC,WAAW;QACvB,OAAO,MAAM,GAAG,CAAC;IACnB;IAEA,uCAAuC;IACvC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAA,CAAA,UAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,CAAC;IAE5D,4BAA4B;IAC5B,OAAO,MAAM,GAAG,CAAC,UAAU;AAC7B;AAEO,eAAe,cAAc,EAAE;IACpC,MAAM,WAAW,CAAC,OAAO,EAAE,IAAI;IAE/B,oBAAoB;IACpB,IAAI,MAAM,GAAG,CAAC,WAAW;QACvB,OAAO,MAAM,GAAG,CAAC;IACnB;IAEA,uCAAuC;IACvC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAA,CAAA,UAAQ,CACjC,IAAI,CAAC,WACL,MAAM,CAAC,uCACP,EAAE,CAAC,MAAM,IACT,MAAM;IAET,4BAA4B;IAC5B,OAAO,MAAM,GAAG,CAAC,UAAU;AAC7B;AAEO,eAAe;IACpB,MAAM,WAAW;IAEjB,oBAAoB;IACpB,IAAI,MAAM,GAAG,CAAC,WAAW;QACvB,OAAO,MAAM,GAAG,CAAC;IACnB;IAEA,uCAAuC;IACvC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAA,CAAA,UAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,KACP,KAAK,CAAC,MAAM;QAAE,WAAW;IAAM,GAC/B,KAAK,CAAC;IAET,4BAA4B;IAC5B,OAAO,MAAM,GAAG,CAAC,UAAU;AAC7B;AAGO,SAAS,gBAAgB,KAAK,IAAI;IACvC,IAAI,IAAI;QACN,6BAA6B;QAC7B,MAAM,UAAU,CAAC,CAAC,OAAO,EAAE,IAAI;IACjC;IAEA,0CAA0C;IAC1C,MAAM,UAAU,CAAC;IACjB,MAAM,UAAU,CAAC;AACnB","debugId":null}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Documents/academy-idearoom/idearoom-academy-app/app/courses/%5BcourseId%5D/_components/CourseClient.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/courses/[courseId]/_components/CourseClient.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/courses/[courseId]/_components/CourseClient.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAuT,GACpV,qFACA","debugId":null}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Documents/academy-idearoom/idearoom-academy-app/app/courses/%5BcourseId%5D/_components/CourseClient.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/courses/[courseId]/_components/CourseClient.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/courses/[courseId]/_components/CourseClient.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAmS,GAChU,iEACA","debugId":null}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Documents/academy-idearoom/idearoom-academy-app/app/courses/%5BcourseId%5D/page.jsx"],"sourcesContent":["import React from \"react\";\nimport { getCourses, getCourseById } from \"../../services/apiCourses\";\nimport CourseClient from \"./_components/CourseClient\";\n\n// Generate metadata for the page\nexport async function generateMetadata({ params }) {\n  const courseId = params.courseId;\n  const course = await getCourseById(parseInt(courseId));\n\n  if (!course) {\n    return {\n      title: \"კურსი არ მოიძებნა !\",\n      description: \"მოთხოვნილი კურსი ვერ მოიძებნა\",\n    };\n  }\n\n  return {\n    title: course.title,\n    description:\n      Array.isArray(course.course_details) && course.course_details.length > 0\n        ? course.course_details[0]\n        : \"Course details\",\n    robots: {\n      follow: true,\n      index: true,\n    },\n  };\n}\n\n// Main component for the course page\nexport default async function CoursePage({ params, searchParams }) {\n  const courseId = params.courseId;\n  const activeTab = searchParams?.tab || \"details\";\n\n  // Fetch course data\n  const courseData = await getCourseById(parseInt(courseId));\n\n  // Get related courses\n  const allCourses = await getCourses();\n  const relatedCourses = allCourses\n    .filter((c) => c.id !== parseInt(courseId))\n    .slice(0, 4);\n\n  // Process syllabus data\n  const processData = (data) => {\n    if (Array.isArray(data)) return data;\n    if (data == null) return [];\n    if (typeof data === \"string\") {\n      try {\n        const trimmedData = data.trim();\n        if (\n          (trimmedData.startsWith(\"[\") && trimmedData.endsWith(\"]\")) ||\n          (trimmedData.startsWith(\"{\") && trimmedData.endsWith(\"}\"))\n        ) {\n          return JSON.parse(trimmedData);\n        }\n        return [trimmedData];\n      } catch (e) {\n        console.error(\"Failed to parse JSON:\", e);\n        return [];\n      }\n    }\n    return [];\n  };\n\n  const validateSyllabusContent = (content) => {\n    if (!Array.isArray(content)) return [String(content)];\n    return content.map((item) => String(item));\n  };\n\n  let syllabusItems = [];\n  if (courseData) {\n    const titles = processData(courseData.syllabus_title);\n    const contents = processData(courseData.syllabus_content);\n\n    if (Array.isArray(titles) && titles.length > 0) {\n      syllabusItems = titles.map((title, index) => {\n        let contentArray = [];\n        if (Array.isArray(contents) && contents.length > index) {\n          contentArray = validateSyllabusContent(contents[index]);\n        }\n        return {\n          title: `ლექცია ${index + 1}: ${title}`,\n          content: contentArray,\n        };\n      });\n    } else if (Array.isArray(contents) && contents.length > 0) {\n      syllabusItems = contents.map((contentArray, index) => ({\n        title: `ლექცია ${index + 1}`,\n        content: validateSyllabusContent(contentArray),\n      }));\n    }\n\n    if (syllabusItems.length === 0) {\n      syllabusItems = [\n        {\n          title: \"ლექცია 1\",\n          content: [\"შინაარსი 1\", \"შინაარსი 2\"],\n        },\n      ];\n    }\n  }\n\n  return (\n    <CourseClient\n      courseData={courseData}\n      relatedCourses={relatedCourses}\n      syllabusItems={syllabusItems}\n      activeTab={activeTab}\n      courseId={courseId}\n    />\n  );\n}\n\n// Define static paths for the generation\nexport async function generateStaticParams() {\n  try {\n    const courses = await getCourses();\n    return courses.map((course) => ({\n      courseId: course.id.toString(),\n    }));\n  } catch (error) {\n    console.error(\"Error generating static params:\", error);\n    return [];\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;;AAGO,eAAe,iBAAiB,EAAE,MAAM,EAAE;IAC/C,MAAM,WAAW,OAAO,QAAQ;IAChC,MAAM,SAAS,MAAM,CAAA,GAAA,8HAAA,CAAA,gBAAa,AAAD,EAAE,SAAS;IAE5C,IAAI,CAAC,QAAQ;QACX,OAAO;YACL,OAAO;YACP,aAAa;QACf;IACF;IAEA,OAAO;QACL,OAAO,OAAO,KAAK;QACnB,aACE,MAAM,OAAO,CAAC,OAAO,cAAc,KAAK,OAAO,cAAc,CAAC,MAAM,GAAG,IACnE,OAAO,cAAc,CAAC,EAAE,GACxB;QACN,QAAQ;YACN,QAAQ;YACR,OAAO;QACT;IACF;AACF;AAGe,eAAe,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE;IAC/D,MAAM,WAAW,OAAO,QAAQ;IAChC,MAAM,YAAY,cAAc,OAAO;IAEvC,oBAAoB;IACpB,MAAM,aAAa,MAAM,CAAA,GAAA,8HAAA,CAAA,gBAAa,AAAD,EAAE,SAAS;IAEhD,sBAAsB;IACtB,MAAM,aAAa,MAAM,CAAA,GAAA,8HAAA,CAAA,aAAU,AAAD;IAClC,MAAM,iBAAiB,WACpB,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,SAAS,WAChC,KAAK,CAAC,GAAG;IAEZ,wBAAwB;IACxB,MAAM,cAAc,CAAC;QACnB,IAAI,MAAM,OAAO,CAAC,OAAO,OAAO;QAChC,IAAI,QAAQ,MAAM,OAAO,EAAE;QAC3B,IAAI,OAAO,SAAS,UAAU;YAC5B,IAAI;gBACF,MAAM,cAAc,KAAK,IAAI;gBAC7B,IACE,AAAC,YAAY,UAAU,CAAC,QAAQ,YAAY,QAAQ,CAAC,QACpD,YAAY,UAAU,CAAC,QAAQ,YAAY,QAAQ,CAAC,MACrD;oBACA,OAAO,KAAK,KAAK,CAAC;gBACpB;gBACA,OAAO;oBAAC;iBAAY;YACtB,EAAE,OAAO,GAAG;gBACV,QAAQ,KAAK,CAAC,yBAAyB;gBACvC,OAAO,EAAE;YACX;QACF;QACA,OAAO,EAAE;IACX;IAEA,MAAM,0BAA0B,CAAC;QAC/B,IAAI,CAAC,MAAM,OAAO,CAAC,UAAU,OAAO;YAAC,OAAO;SAAS;QACrD,OAAO,QAAQ,GAAG,CAAC,CAAC,OAAS,OAAO;IACtC;IAEA,IAAI,gBAAgB,EAAE;IACtB,IAAI,YAAY;QACd,MAAM,SAAS,YAAY,WAAW,cAAc;QACpD,MAAM,WAAW,YAAY,WAAW,gBAAgB;QAExD,IAAI,MAAM,OAAO,CAAC,WAAW,OAAO,MAAM,GAAG,GAAG;YAC9C,gBAAgB,OAAO,GAAG,CAAC,CAAC,OAAO;gBACjC,IAAI,eAAe,EAAE;gBACrB,IAAI,MAAM,OAAO,CAAC,aAAa,SAAS,MAAM,GAAG,OAAO;oBACtD,eAAe,wBAAwB,QAAQ,CAAC,MAAM;gBACxD;gBACA,OAAO;oBACL,OAAO,CAAC,OAAO,EAAE,QAAQ,EAAE,EAAE,EAAE,OAAO;oBACtC,SAAS;gBACX;YACF;QACF,OAAO,IAAI,MAAM,OAAO,CAAC,aAAa,SAAS,MAAM,GAAG,GAAG;YACzD,gBAAgB,SAAS,GAAG,CAAC,CAAC,cAAc,QAAU,CAAC;oBACrD,OAAO,CAAC,OAAO,EAAE,QAAQ,GAAG;oBAC5B,SAAS,wBAAwB;gBACnC,CAAC;QACH;QAEA,IAAI,cAAc,MAAM,KAAK,GAAG;YAC9B,gBAAgB;gBACd;oBACE,OAAO;oBACP,SAAS;wBAAC;wBAAc;qBAAa;gBACvC;aACD;QACH;IACF;IAEA,qBACE,8OAAC,8JAAA,CAAA,UAAY;QACX,YAAY;QACZ,gBAAgB;QAChB,eAAe;QACf,WAAW;QACX,UAAU;;;;;;AAGhB;AAGO,eAAe;IACpB,IAAI;QACF,MAAM,UAAU,MAAM,CAAA,GAAA,8HAAA,CAAA,aAAU,AAAD;QAC/B,OAAO,QAAQ,GAAG,CAAC,CAAC,SAAW,CAAC;gBAC9B,UAAU,OAAO,EAAE,CAAC,QAAQ;YAC9B,CAAC;IACH,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC;QACjD,OAAO,EAAE;IACX;AACF","debugId":null}}]
}