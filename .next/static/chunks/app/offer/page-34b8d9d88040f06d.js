(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[579],{2378:(e,t,s)=>{Promise.resolve().then(s.bind(s,8927))},4899:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a={src:"/_next/static/media/rightArrow.5173f777.svg",height:9,width:5,blurWidth:0,blurHeight:0}},5207:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4821).UU)("https://ogxvbjvwbrllggcmfyke.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9neHZianZ3YnJsbGdnY21meWtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ4MjA0MjAsImV4cCI6MjA2MDM5NjQyMH0.1jqzrG77QundfqVg98tvWbM1YUFsJcG0IycwzphwLEM")},8784:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a={src:"/_next/static/media/homeIcon.3ac9d7a1.svg",height:14,width:16,blurWidth:0,blurHeight:0}},8927:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(5155),r=s(2115),l=s(6874),i=s.n(l),c=s(5207);let n={data:{},timeouts:{},DEFAULT_TTL:36e5,set(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.DEFAULT_TTL;return this.data[e]=t,this.timeouts[e]&&clearTimeout(this.timeouts[e]),this.timeouts[e]=setTimeout(()=>{delete this.data[e],delete this.timeouts[e]},s),t},get(e){return this.data[e]},has(e){return e in this.data},invalidate(e){delete this.data[e],this.timeouts[e]&&(clearTimeout(this.timeouts[e]),delete this.timeouts[e])},invalidateAll(){Object.keys(this.timeouts).forEach(e=>{clearTimeout(this.timeouts[e])}),this.data={},this.timeouts={}}};async function d(){let e="all_offered_courses";try{if(n.has(e))return n.get(e);let{data:t,error:s}=await c.A.from("offered_course").select("*");if(s)throw console.error("Supabase error:",s),s;return n.set(e,t)}catch(e){throw console.error("Error fetching courses:",e),e}}var o=s(8784),x=s(4899),m=s(6766);function h(e){let{children:t,isCoursesPage:s=!0}=e;return(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 items-center sm:my-7",children:[(0,a.jsx)(i(),{href:"/",children:(0,a.jsx)(m.default,{className:"w-[14px] h-[12px] sm:w-[16px] sm:h-[14px]",src:o.default,alt:"homeIcon-svg"})}),(0,a.jsx)(m.default,{className:"mt-[2px]",src:x.default,alt:"rightArrow-svg"}),s?(0,a.jsx)("p",{className:"caps-text text-xs sm:text-sm font-regular text-[#6A737D] mt-[5px]",children:"შეთავაზება"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{href:"/offer",children:(0,a.jsx)("p",{className:"caps-text text-xs hover:underline sm:text-sm font-regular text-[#6A737D] mt-[5px]",children:"შეთავაზება"})}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.default,{className:"mt-[2px]",src:x.default,alt:"rightArrow-svg"}),(0,a.jsx)("div",{className:"caps-text text-xs sm:text-sm font-regular text-[#6A737D] mt-[5px]",children:t})]})]})]})}function u(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[c,n]=(0,r.useState)(null),o=(0,r.useCallback)(async()=>{try{let e=[...await d()].sort((e,t)=>t.id-e.id);t(e)}catch(e){console.error("Error fetching courses:",e),n(e.message||"Failed to load courses. Please try again later.")}finally{l(!1)}},[]);return((0,r.useEffect)(()=>{document.title="idearoom | შეთავაზება";let e=new AbortController;return o(),()=>{e.abort()}},[o]),s)?(0,a.jsx)("div",{children:(0,a.jsx)("section",{className:"relative z-50 bg-white w-full h-screen",children:(0,a.jsx)("div",{className:"absolute spinner top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50"})})}):c?(0,a.jsx)("div",{className:"container mx-auto max-sm:max-w-[90%] mt-[120px] py-8 text-center",children:(0,a.jsxs)("div",{className:"bg-red-50 p-6 rounded-lg shadow",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-red-700 mb-2",children:"Error loading courses"}),(0,a.jsx)("p",{className:"text-red-600",children:c}),(0,a.jsx)("button",{onClick:()=>{l(!0),n(null),o()},className:"mt-4 bg-primary-500 text-white py-2 px-6 rounded-lg hover:bg-primary-600 transition",children:"Try Again"})]})}):(0,a.jsxs)("div",{className:"container mx-auto max-sm:max-w-[90%] mt-[80px] py-8",children:[(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(h,{children:(0,a.jsx)("p",{className:"cursor-pointer",children:"შეთავაზება"})})}),(0,a.jsx)("div",{className:"grid grid-cols-1 mt-5 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white blog-shadow relative rounded-[20px] p-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{className:"mb-5 w-full relative",src:e.image,alt:"course-image-".concat(e.id),loading:"lazy"}),(0,a.jsxs)("p",{className:"absolute max-sm:py-[5px] max-sm:px-4 max-sm:text-sm bg-[#FDB927] top-[10px] right-[10px] px-5 py-[5px] shadow-lg pt-[10px] rounded-full text-secondary-900 font-bold caps-text",children:["-",e.discount_percentage,"%"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:e.course_category.map((e,t)=>(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm max-lg:text-xs caps-text font-bold text-secondary-800 bg-[#EBF0F3] py-[6px] px-4 rounded-full",children:e})},t))}),(0,a.jsx)("h2",{className:"text-lg mt-4 text-[#282525] font-bold mb-2 caps-text",children:e.title}),(0,a.jsx)("p",{className:"text-[#383838] mb-6 line-clamp-2",children:e.text}),(0,a.jsx)("div",{className:"w-full h-[1px] bg-[#EFF2F5] mb-6"}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-primary-500 text-xl lg:mr-2 font-bold",children:["₾ ",e.price]}),(0,a.jsxs)("span",{className:"text-gray-400 line-through",children:["₾ ",e.old_price]})]}),(0,a.jsx)(i(),{href:"/offer/".concat(e.id),prefetch:!1,children:(0,a.jsx)("button",{className:"w-full hover:translate-y-[-3px] duration-300 transition-all rounded-[12px] bg-primary-500 text-[#fff] hover:text-secondary-900 hover:bg-[#FDB927] py-2 pt-3 text-sm caps-text font-bold px-5",children:"დეტალურად"})})]})]},e.id))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,242,441,684,358],()=>t(2378)),_N_E=e.O()}]);